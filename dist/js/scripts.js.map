{"version":3,"sources":["src/js/scripts.js"],"names":[],"mappings":"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","file":"src/js/scripts.js","sourcesContent":["/* jshint ignore:start */\n/* jshint strict: true */\n\nlet peer = new Peer({key: 'n0ei2j1souk57b9'}),\n    joinHostButton = document.getElementById('join-host'),\n    sendMessageButton = document.getElementById('send-message'),\n    setNameButton = document.getElementById('set-name'),\n    nameEl = document.getElementById('name-input'),\n    chatOutputEl = document.getElementById('chat-history'),\n    showHostButton = document.getElementById('show-host'),\n    showJoinButton = document.getElementById('show-join'),\n    connectedEl = document.getElementById('connected'),\n    messageEl = document.getElementById('message'),\n    messageWrapEl = document.getElementsByClassName('message-wrapper'),\n    peerId = document.getElementById('friends-peer-id'),\n    landline,\n    name;\n\n// set name events / functions\nsetNameButton.addEventListener('click', function () {\n  setName();\n});\n\nsetNameButton.addEventListener('click', function (evt) {\n  let nameSource = document.getElementById('name-input');\n  name = nameSource.value;\n  nameSource.classList.add(\"hidden\");\n  evt.target.classList.add(\"hidden\");\n  document.getElementById('my-name').innerHTML = name;\n});\n\nnameEl.addEventListener('keydown', function(e) {\n  let key = e.which || e.keyCode;\n  if (key === 13) { // enter key\n    e.preventDefault();\n    setName();\n  }\n});\n\nfunction setName() {\n  let nameInput = document.getElementById('name-input');\n  name = nameInput.value;\n  nameInput.classList.add('hide');\n  setNameButton.classList.add('hide');\n  showHostButton.classList.remove('hide');\n  showJoinButton.classList.remove('hide');\n}\n\n\n// host / join\nshowHostButton.addEventListener('click', function(){\n  document.getElementById('host').classList.toggle('hide');\n});\n\nshowJoinButton.addEventListener('click', function(){\n  document.getElementById('join').classList.toggle('hide');\n});\n\npeerId.addEventListener('keydown', function(e) {\n  let key = e.which || e.keyCode;\n  if (key === 13) { // enter key\n    e.preventDefault();\n    landline = peer.connect(peerId.value);\n    document.getElementById('join').classList.toggle('hide');\n  }\n});\n\njoinHostButton.addEventListener('click', function(){\n  landline = peer.connect(peerId.value);\n  document.getElementById('join').classList.toggle('hide');\n});\n\n\n\n// messages\nsendMessageButton.addEventListener('click', function(evt){\n  evt.preventDefault();\n  sendMessage();\n});\n\nmessageEl.addEventListener('keydown', function(e) {\n  let key = e.which || e.keyCode;\n  if (key === 13) { // enter key\n    e.preventDefault();\n    sendMessage();\n  }\n});\n\nfunction sendMessage() {\n  let data = {\n    \"message\": messageEl.value,\n    \"name\": name\n  };\n  messageEl.value = '';\n  landline.send(data);\n  renderMessage(data, 'me');\n}\n\nfunction renderMessage(data, who){\n  // building out all the elements and rendering to page\n  let messageWrapper = document.createElement('div');\n  messageWrapper.classList.add('chat','message-wrapper',who);\n\n  let messagePerson = document.createElement('div');\n  messagePerson.classList.add('name','circle-wrapper','animated','bounceIn');\n\n  let personName = document.createTextNode(data.name.charAt(0));\n  messagePerson.appendChild(personName);\n\n  let messageDiv = document.createElement('div');\n  messageDiv.classList.add('message','text-wrapper');\n\n  let messageContent = document.createTextNode(data.message);\n  messageDiv.appendChild(messageContent);\n\n  messageWrapper.appendChild(messagePerson);\n  messageWrapper.appendChild(messageDiv);\n\n  chatOutputEl.appendChild(messageWrapper);\n\n  if (who === 'them' && document.getElementById('friendID').innerHTML !== data.name) {\n    renderConnectedTo(data.name);\n  }\n  animateText();\n}\n\nfunction animateText() {\n  setTimeout(() => {\n    let lastMessage = messageWrapEl[messageWrapEl.length - 1];\n    lastMessage.getElementsByClassName('text-wrapper')[0].classList.add('animated', 'fadeIn');\n  }, 350)\n}\n\n\n// peer stuff\npeer.on('open', function(id) {\n  document.getElementById('your-id').innerHTML = `<span>Your id is: <kbd>${id}</kbd></span>`;\n});\n\npeer.on('connection', function(landline, name){\n  connectBack(landline.peer);\n  landline.on('open', function(){\n    renderConnectedTo(landline.peer);\n\n    landline.on('data', function(data){\n      console.log(data);\n      renderMessage(data, 'them');\n    });\n\n  });\n\n});\n\nfunction renderConnectedTo(peer) {\n  connectedEl.innerHTML = `You're connected to <span id=\"friendID\">${peer}</span>`;\n  connectedEl.classList.remove('hide');\n  document.getElementById('init-wrapper').classList.add('hide');\n}\n\nfunction connectBack(id) {\n  // recieve a connection and connect back\n  console.log(landline);\n  if (typeof landline === 'undefined') {\n    // we need to connect back;\n    landline = peer.connect(id);\n    console.log('connecting again');\n  }\n}\n"]}
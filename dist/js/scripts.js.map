{"version":3,"sources":["src/js/scripts.js"],"names":[],"mappings":"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","file":"src/js/scripts.js","sourcesContent":["/* jshint ignore:start */\n/* jshint strict: true */\n\nlet peer = new Peer({key: 'n0ei2j1souk57b9'}),\n    joinHostButton = document.getElementById('join-host'),\n    sendMessageButton = document.getElementById('send-message'),\n    setNameButton = document.getElementById('set-name'),\n    chatOutputEl = document.getElementById('chat-history'),\n    showHostButton = document.getElementById('show-host'),\n    showJoinButton = document.getElementById('show-join'),\n    landline,\n    name;\n\npeer.on('open', function(id) {\n  document.getElementById('your-id').innerHTML = `<span>Your id is: ${id}</span>`;\n});\n\nsetNameButton.addEventListener('click', function () {\n  let nameInput = document.getElementById('name-input');\n  name = nameInput.value;\n  nameInput.classList.add('hide');\n  setNameButton.classList.add('hide');\n  showHostButton.classList.remove('hide');\n  showJoinButton.classList.remove('hide');\n  // document.getElementById('my-name').innerHTML = name;\n\n});\n\nshowHostButton.addEventListener('click', function(){\n  document.getElementById('host').classList.remove('hide');\n});\n\nshowJoinButton.addEventListener('click', function(){\n  document.getElementById('join').classList.remove('hide');\n});\n\njoinHostButton.addEventListener('click', function(){\n  landline = peer.connect(document.getElementById('friends-peer-id').value);\n});\n\nsendMessageButton.addEventListener('click', function(evt){\n  console.log('you clicked');\n  console.log(name, landline);\n  evt.preventDefault();\n  let data = {\n    \"message\": document.getElementById('message').value,\n    \"name\": name\n  };\n  landline.send(data);\n  renderMessage(data, 'me');\n});\n\npeer.on('connection', function(landline, name){\n  console.log(landline, 'yo');\n  connectBack(landline.peer);\n  landline.on('open', function(){\n\n    landline.on('data', function(data){\n      console.log(data);\n      renderMessage(data, 'them');\n    });\n\n  });\n\n});\n\nfunction renderMessage(data, who){\n  chatOutputEl.innerHTML += `\n    <div class=\"chat message-wrapper ${who}\">\n      <div class=\"name circle-wrapper animated bounceIn\">${(data.name).charAt(0)}</div>\n      <div class=\"message text-wrapper animated fadeIn\"> ${data.message}</div>\n    </div>`;\n}\n\nfunction connectBack(id) {\n  if (typeof landline === 'undefined') {\n    // we need to connect back;\n    landline = peer.connect(id);\n    console.log('connecting again');\n  }\n}\n"]}